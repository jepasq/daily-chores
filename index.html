<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
    <meta http-equiv="Content-Security-Policy"
	  content="default-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline'">
    <title>Daily Chores v0.0.1-16</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="ext/bootstrap/5.1.3/css/bootstrap.min.css" />

    <!-- Bootstrap Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="node_modules/jquery/dist/jquery.min.js"></script>

    <script src="node_modules/d3/dist/d3.min.js"></script>
    
    <link rel="stylesheet" type="text/css" href="view/styles.css?v1">
  </head>
  <body>
    <noscript>
      This application heavily relies on javascript for user interaction.
      Please enable it.
    </noscript>
    <div class="notification alert alert-success d-none" id="save-notif">
      Actual chores state saved!
    </div>
    <div class="row">
      <div class="col-6">
	<h1>Today's chores</h1>
      </div>

      <div class="col-3">
	<button id="btn-history" title="Open history dialog">
	  <i class="fa fa-bar-chart fa-1x" aria-hidden="true" class="float-rigth"></i>
	</button>
	<button id="btn-preferences" title="Open preferences dialog">
	  <i class="fa fa-cog fa-1x" aria-hidden="true" class="float-rigth"></i>
	</button>
      </div>
    </div>
    
    <div id="undefined-chore-template" class="hidden alert alert-danger">
      <a href='#'>You don't have defined Chores Template yet.
	Please define some.</a>
    </div>

    
    <h1>Chores</h1>
    <h2><span id="today-date">{Today's date}</span></h2>

    <div id="chore-list"></div>

    <div class="modal show fade in" tabindex="-1" role="dialog" id="myModal">
      <div class="modal-dialog modal-xl" role="document">
	<div class="modal-content">
	  <div class="modal-header">
            <h5 class="modal-title">Preferences</h5>
            <button type="button" class="close" data-dismiss="modal"
		    aria-label="Close">
	      <span aria-hidden="true">&times;</span>
	    </button>
	  </div>

	  <div class="modal-body">
	    <h2>Theme selection</h2>
	    <p>Current theme source:
	      <strong id="theme-source">System</strong></p>
	    <button id="toggle-dark-mode">Toggle Dark Mode</button>
	    <button id="reset-to-system">Reset to System Theme</button>
            <p>Modal body text goes here.</p>

	    <h2>Chores Template</h2>
	    <button class="btn btn-danger"
		    id="reset-chore-template">Reset local storage</button>
	    <div class="container">
	      <div class="row">
		<div class="col-sm">
		  Actual chores :
		  <ul class="list-group" id="chore-template-list">
		  </ul>
		</div>
		<div class="col-sm">
		  <div>Actions :</div>
		  <div class="btn-group-vertical">
		    <button type="button" class="btn btn-secondary"
			    id="addChore">
		      &lt;&lt; Add
		    </button>
		    <button type="button" class="btn btn-secondary"
			    id="modify-button" disabled>
		      &gt;&gt; Modify
		    </button>
		    <button type="button" class="btn btn-secondary"
			    id="delete-button" disabled>
		      -- Delete
		    </button>
		  </div>
		</div>
		<div class="col-sm">
		  New chore :
		  <fieldset>
		    <legend>Chore type :</legend>
		    <label><input id="checkbox" type="radio" name="chore-type"
				  value="indoor" checked> Checkbox</label>
<!--		    <label><input id="outdoor" type="radio" name="indoor-outdoor" value="outdoor"> Outdoor</label> -->
		  </fieldset>
		  <label>Name <span class="mandatory"
				    title="Field is mandatory">*</class>
		    <input id="newChoreName">
		  </label>
		  <label>Description
		    <input id="newChoreDescription">
		  </label>
		  <h2>Miscellaneous</h2>
		  <p>Next chore id. : <span id="nextchore">x</span</p>
		</div>
	      </div>
	    </div>

	    
	  </div>
	  <div class="modal-footer">
            <button type="button" class="btn btn-secondary close"
		    data-dismiss="modal"
		    id="close-dialog-button">Close</button>
	  </div>
	</div>
      </div>
</div>

<!--  History modal  -->
<div class="modal show fade in" tabindex="-1" role="dialog"
     id="historyModal">
  <div class="modal-dialog modal-xl" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">History</h5>
        <button type="button" class="close" data-dismiss="modal"
		aria-label="Close">
	  <span aria-hidden="true">&times;</span>
	</button>
      </div>

      <div class="modal-body">
	<h2>Last days activity</h2>
      </div>
      <p>History array length :
	<span id="history-array-length">undef.</span>
      </p>

      <svg id="history-graph"></svg>
      
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary close"
		data-dismiss="modal"
		id="close-history-dialog-button">Close</button>
      </div>
	  
    <script src="src/date.js"></script>
    <script src="src/chore.js"></script>
    <script src="src/history.js"></script>
    <script src="src/renderer.js"></script>
    <script src="src/graph.js"></script>
  </body>
</html>
